<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X-O Game</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box;}
        body{
            text-align:center;
            display:flex;
            flex-direction:column;
            align-items:center;
            padding-top:20px;
            background-color:#DAF1DE;
        }
        #great_container{
            width:80%;
            border-radius:30px;
            padding-bottom:20px;
            color:white;
            display:flex;
            flex-direction:column;
            align-items:center;
            background-color:#335f59;
        }
        img{width:190px;height:190px;border-radius:35px;margin:20px;}
        #container{
            width:60%;
            border-radius:25px;
            display:flex;
            flex-direction:column;
            align-items:center;
            background-color:#0B2B26;
        }
        h1{font-family:'Franklin Gothic Medium','Arial Narrow',Arial,sans-serif;
            font-size:45px;font-weight:700;margin-bottom:50px;}
        #game{
            width:450px;background-color:white;
            display:grid;
            grid-template-columns:repeat(3,150px);
            grid-template-rows:repeat(3,150px);
            box-shadow:5px 5px 5px black,-5px -5px 5px black;
            border-radius:10px;
            margin-bottom:60px;
        }
        .cell{
            font-size:100px;font-weight:bold;
            display:flex;justify-content:center;align-items:center;
            border:3px solid black;cursor:pointer;user-select:none;
            transition:background-color 0.2s ease;
        }
        .cell:hover{background-color:#e0d8d8;}
        #result{font-size:32px;margin-bottom:20px;}
        #players{
            display:flex;justify-content:center;gap:50px;width:60%;
            padding:20px;border-radius:25px;background-color:#0B2B26;margin-top:20px;
        }
        button{
            padding:15px 40px;font-size:20px;cursor:pointer;
            border:solid 2px black;border-radius:27px;
        }
        #px{background-color:green;color:white;}
        #po{background-color:gray;color:white;}
    </style>
</head>
<body>
    <div id="great_container">
        <div><img src="logo.png" alt="logo"></div>
        <div id="container">
            <h1>X-O Game</h1>
            <div id="game">
                <div class="cell" data-index="0"></div>
                <div class="cell" data-index="1"></div>
                <div class="cell" data-index="2"></div>
                <div class="cell" data-index="3"></div>
                <div class="cell" data-index="4"></div>
                <div class="cell" data-index="5"></div>
                <div class="cell" data-index="6"></div>
                <div class="cell" data-index="7"></div>
                <div class="cell" data-index="8"></div>
            </div>
            <div id="result"></div>
        </div>
        <div id="players">
            <button id="px">Player X</button>
            <button id="reset">New game</button>
            <button id="po">Player O</button>
        </div>
    </div>

    <script>
        const cells = document.querySelectorAll(".cell");
        const result = document.getElementById("result");
        const resetBtn = document.getElementById("reset");
        const pxBtn = document.getElementById("px");
        const poBtn = document.getElementById("po");

        let currentPlayer = "X";
        let board = Array(9).fill(null);
        let gameActive = true;

        function updateTurnButtons() {
            if (currentPlayer === "X") {
                pxBtn.style.backgroundColor = "green";
                poBtn.style.backgroundColor = "gray";
            } else {
                pxBtn.style.backgroundColor = "gray";
                poBtn.style.backgroundColor = "red";
            }
        }

        function checkWinner() {
            const winPatterns = [
                [0,1,2],[3,4,5],[6,7,8], 
                [0,3,6],[1,4,7],[2,5,8], 
                [0,4,8],[2,4,6]     
            ];
            for (let pattern of winPatterns) {
                const [a,b,c] = pattern;
                if (board[a] && board[a] === board[b] && board[a] === board[c]) {
                    gameActive = false;
                    result.innerHTML = `${board[a]} wins! 🎉`;
                    return;
                }
            }
            if (!board.includes(null)) {
                gameActive = false;
                result.innerhtml = "It's a Draw! 🤝";
            }
        }

        function handleClick(e) {
            const index = e.target.dataset.index;
            if (!gameActive || board[index]) return;

            board[index] = currentPlayer;
            e.target.textContent = currentPlayer;
            e.target.style.color = currentPlayer === "X" ? "green" : "red";

            checkWinner();

            if (gameActive) {
                currentPlayer = currentPlayer === "X" ? "O" : "X";
                updateTurnButtons();
            }
        }

        function resetGame() {
            board.fill(null);
            cells.forEach(cell => {
                cell.textContent = "";
                cell.style.color = "black";
            });
            currentPlayer = "X";
            gameActive = true;
            result.textContent = "";
            updateTurnButtons();
        }

        cells.forEach(cell => cell.addEventListener("click", handleClick));
        resetBtn.addEventListener("click", resetGame);

        updateTurnButtons();
    </script>
</body>
</html>
